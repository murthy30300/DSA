package com.tcs.roundii;

import java.util.*;
import java.io.*;
import java.util.*;
import java.io.*;

public class TitlesBars {
    static class Bar {
        int x1, y1, x2, y2;
        int type;
        int midX, midY;
        int orig_dx, orig_dy;
        int tilt_dx, tilt_dy;

        Bar(int x1, int y1, int x2, int y2) {
            this.x1 = x1;
            this.y1 = y1;
            this.x2 = x2;
            this.y2 = y2;
            if (x1 + y1 == x2 + y2) {
                type = 0; // '/'
            } else if (x1 - y1 == x2 - y2) {
                type = 1; // '\'
            } else {
                type = -1;
            }
            midX = (x1 + x2) / 2;
            midY = (y1 + y2) / 2;

            if (type == 0) {
                int v1 = x1 - y1;
                int v2 = x2 - y2;
                if (v1 > v2) {
                    orig_dx = x1;
                    orig_dy = y1;
                } else {
                    orig_dx = x2;
                    orig_dy = y2;
                }
            } else {
                int u1 = x1 + y1;
                int u2 = x2 + y2;
                if (u1 < u2) {
                    orig_dx = x1;
                    orig_dy = y1;
                } else {
                    orig_dx = x2;
                    orig_dy = y2;
                }
            }

            int nx1 = midX - (y1 - midY);
            int ny1 = midY + (x1 - midX);
            int nx2 = midX - (y2 - midY);
            int ny2 = midY + (x2 - midX);

            if (type == 0) {
                int u1 = nx1 + ny1;
                int u2 = nx2 + ny2;
                if (u1 < u2) {
                    tilt_dx = nx1;
                    tilt_dy = ny1;
                } else {
                    tilt_dx = nx2;
                    tilt_dy = ny2;
                }
            } else {
                int v1 = nx1 - ny1;
                int v2 = nx2 - ny2;
                if (v1 > v2) {
                    tilt_dx = nx1;
                    tilt_dy = ny1;
                } else {
                    tilt_dx = nx2;
                    tilt_dy = ny2;
                }
            }
        }

        boolean contains(int x, int y) {
            if (type == 0) {
                if (x + y != x1 + y1) return false;
                int v = x - y;
                int v1 = x1 - y1;
                int v2 = x2 - y2;
                int vmin = Math.min(v1, v2);
                int vmax = Math.max(v1, v2);
                return v >= vmin && v <= vmax;
            } else if (type == 1) {
                if (x - y != x1 - y1) return false;
                int u = x + y;
                int u1 = x1 + y1;
                int u2 = x2 + y2;
                int umin = Math.min(u1, u2);
                int umax = Math.max(u1, u2);
                return u >= umin && u <= umax;
            }
            return false;
        }
    }

    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int N = sc.nextInt();
        List<Bar> bars = new ArrayList<>();
        for (int i = 0; i < N; i++) {
            int x1 = sc.nextInt();
            int y1 = sc.nextInt();
            int x2 = sc.nextInt();
            int y2 = sc.nextInt();
            bars.add(new Bar(x1, y1, x2, y2));
        }
        int startX = sc.nextInt();
        int startY = sc.nextInt();

        Set<String> groundPoints = new HashSet<>();
        Queue<State> queue = new LinkedList<>();
        Set<String> visited = new HashSet<>();

        queue.add(new State(startX, startY, 0L));
        visited.add(startX + "," + startY + "," + 0L);

        while (!queue.isEmpty()) {
            State state = queue.poll();
            int x = state.x;
            int y = state.y;
            long mask = state.mask;

            if (y == 0) {
                groundPoints.add(x + " 0");
                continue;
            }

            List<Bar> foundBars = new ArrayList<>();
            int foundY = -1;
            for (int y0 = y - 1; y0 >= 0; y0--) {
                for (Bar bar : bars) {
                    if (bar.contains(x, y0)) {
                        foundBars.add(bar);
                        foundY = y0;
                    }
                }
                if (!foundBars.isEmpty()) {
                    break;
                }
            }

            if (foundBars.isEmpty()) {
                groundPoints.add(x + " 0");
            } else {
                for (Bar bar : foundBars) {
                    int index = bars.indexOf(bar);
                    boolean tilted = (mask & (1L << index)) != 0;
                    if (tilted) {
                        int dx = bar.tilt_dx;
                        int dy = bar.tilt_dy;
                        long newMask = mask;
                        String key = dx + "," + dy + "," + newMask;
                        if (!visited.contains(key)) {
                            visited.add(key);
                            queue.add(new State(dx, dy, newMask));
                        }
                    } else {
                        int dx1 = bar.orig_dx;
                        int dy1 = bar.orig_dy;
                        String key1 = dx1 + "," + dy1 + "," + mask;
                        if (!visited.contains(key1)) {
                            visited.add(key1);
                            queue.add(new State(dx1, dy1, mask));
                        }

                        int dx2 = bar.tilt_dx;
                        int dy2 = bar.tilt_dy;
                        long newMask = mask | (1L << index);
                        String key2 = dx2 + "," + dy2 + "," + newMask;
                        if (!visited.contains(key2)) {
                            visited.add(key2);
                            queue.add(new State(dx2, dy2, newMask));
                        }
                    }
                }
            }
        }

        List<Integer> result = new ArrayList<>();
        for (String s : groundPoints) {
            String[] parts = s.split(" ");
            result.add(Integer.parseInt(parts[0]));
        }
        Collections.sort(result);
        for (int x : result) {
            System.out.println(x + " 0");
        }
    }

    static class State {
        int x, y;
        long mask;

        State(int x, int y, long mask) {
            this.x = x;
            this.y = y;
            this.mask = mask;
        }
    }
}